{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet ProductDetailComponent = class ProductDetailComponent {\n  constructor(route, router, productService, cartService, messageService) {\n    this.route = route;\n    this.router = router;\n    this.productService = productService;\n    this.cartService = cartService;\n    this.messageService = messageService;\n    this.product = null;\n    this.quantity = 1;\n    this.selectedSize = 'M';\n    this.selectedColor = 'Negro';\n    this.loading = true;\n    this.sizes = ['XS', 'S', 'M', 'L', 'XL', 'XXL'];\n    this.colors = ['Negro', 'Blanco', 'Gris', 'Azul', 'Rojo'];\n  }\n  ngOnInit() {\n    this.route.params.subscribe(params => {\n      const id = +params['id'];\n      this.loadProduct(id);\n    });\n  }\n  loadProduct(id) {\n    this.productService.getProductById(id).subscribe({\n      next: product => {\n        this.product = product;\n        this.loading = false;\n      },\n      error: error => {\n        console.error('Error al cargar producto:', error);\n        this.loading = false;\n        this.messageService.add({\n          severity: 'error',\n          summary: 'Error',\n          detail: 'No se pudo cargar el producto'\n        });\n      }\n    });\n  }\n  addToCart() {\n    if (this.product) {\n      this.cartService.addToCart(this.product, this.quantity, this.selectedSize, this.selectedColor);\n      this.messageService.add({\n        severity: 'success',\n        summary: 'Éxito',\n        detail: `${this.product.name} agregado al carrito`\n      });\n    }\n  }\n  buyNow() {\n    this.addToCart();\n    this.router.navigate(['/cart']);\n  }\n  incrementQuantity() {\n    this.quantity++;\n  }\n  decrementQuantity() {\n    if (this.quantity > 1) {\n      this.quantity--;\n    }\n  }\n};\nProductDetailComponent = __decorate([Component({\n  selector: 'app-product-detail',\n  templateUrl: './product-detailcomponent.html',\n  styleUrls: ['./product-detailcomponent.scss']\n})], ProductDetailComponent);\nexport { ProductDetailComponent };","map":{"version":3,"names":["Component","ProductDetailComponent","constructor","route","router","productService","cartService","messageService","product","quantity","selectedSize","selectedColor","loading","sizes","colors","ngOnInit","params","subscribe","id","loadProduct","getProductById","next","error","console","add","severity","summary","detail","addToCart","name","buyNow","navigate","incrementQuantity","decrementQuantity","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\everl\\OneDrive\\Escritorio\\JS\\app-gym\\front\\gymwear-frontend\\src\\app\\components\\products\\product-detail\\product-detailcomponent.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { Product } from '../../../models/models';\r\nimport { ProductService } from '../../../services/productservice';\r\nimport { CartService } from '../../../services/cartservice';\r\nimport { MessageService } from 'primeng/api';\r\n\r\n@Component({\r\n    selector: 'app-product-detail',\r\n    templateUrl: './product-detailcomponent.html',\r\n    styleUrls: ['./product-detailcomponent.scss']\r\n})\r\nexport class ProductDetailComponent implements OnInit {\r\n    product: Product | null = null;\r\n    quantity = 1;\r\n    selectedSize = 'M';\r\n    selectedColor = 'Negro';\r\n    loading = true;\r\n\r\n    sizes = ['XS', 'S', 'M', 'L', 'XL', 'XXL'];\r\n    colors = ['Negro', 'Blanco', 'Gris', 'Azul', 'Rojo'];\r\n\r\n    constructor(\r\n        private route: ActivatedRoute,\r\n        private router: Router,\r\n        private productService: ProductService,\r\n        private cartService: CartService,\r\n        private messageService: MessageService\r\n    ) {}\r\n\r\n    ngOnInit(): void {\r\n        this.route.params.subscribe(params => {\r\n            const id = +params['id'];\r\n            this.loadProduct(id);\r\n        });\r\n    }\r\n\r\n    loadProduct(id: number): void {\r\n        this.productService.getProductById(id).subscribe({\r\n            next: (product) => {\r\n                this.product = product;\r\n                this.loading = false;\r\n            },\r\n            error: (error) => {\r\n                console.error('Error al cargar producto:', error);\r\n                this.loading = false;\r\n                this.messageService.add({\r\n                    severity: 'error',\r\n                    summary: 'Error',\r\n                    detail: 'No se pudo cargar el producto'\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    addToCart(): void {\r\n        if (this.product) {\r\n            this.cartService.addToCart(this.product, this.quantity, this.selectedSize, this.selectedColor);\r\n            this.messageService.add({\r\n                severity: 'success',\r\n                summary: 'Éxito',\r\n                detail: `${this.product.name} agregado al carrito`\r\n            });\r\n        }\r\n    }\r\n\r\n    buyNow(): void {\r\n        this.addToCart();\r\n        this.router.navigate(['/cart']);\r\n    }\r\n\r\n    incrementQuantity(): void {\r\n        this.quantity++;\r\n    }\r\n\r\n    decrementQuantity(): void {\r\n        if (this.quantity > 1) {\r\n            this.quantity--;\r\n        }\r\n    }\r\n}"],"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAY1C,IAAMC,sBAAsB,GAA5B,MAAMA,sBAAsB;EAU/BC,YACYC,KAAqB,EACrBC,MAAc,EACdC,cAA8B,EAC9BC,WAAwB,EACxBC,cAA8B;IAJ9B,KAAAJ,KAAK,GAALA,KAAK;IACL,KAAAC,MAAM,GAANA,MAAM;IACN,KAAAC,cAAc,GAAdA,cAAc;IACd,KAAAC,WAAW,GAAXA,WAAW;IACX,KAAAC,cAAc,GAAdA,cAAc;IAd1B,KAAAC,OAAO,GAAmB,IAAI;IAC9B,KAAAC,QAAQ,GAAG,CAAC;IACZ,KAAAC,YAAY,GAAG,GAAG;IAClB,KAAAC,aAAa,GAAG,OAAO;IACvB,KAAAC,OAAO,GAAG,IAAI;IAEd,KAAAC,KAAK,GAAG,CAAC,IAAI,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,KAAK,CAAC;IAC1C,KAAAC,MAAM,GAAG,CAAC,OAAO,EAAE,QAAQ,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,CAAC;EAQjD;EAEHC,QAAQA,CAAA;IACJ,IAAI,CAACZ,KAAK,CAACa,MAAM,CAACC,SAAS,CAACD,MAAM,IAAG;MACjC,MAAME,EAAE,GAAG,CAACF,MAAM,CAAC,IAAI,CAAC;MACxB,IAAI,CAACG,WAAW,CAACD,EAAE,CAAC;IACxB,CAAC,CAAC;EACN;EAEAC,WAAWA,CAACD,EAAU;IAClB,IAAI,CAACb,cAAc,CAACe,cAAc,CAACF,EAAE,CAAC,CAACD,SAAS,CAAC;MAC7CI,IAAI,EAAGb,OAAO,IAAI;QACd,IAAI,CAACA,OAAO,GAAGA,OAAO;QACtB,IAAI,CAACI,OAAO,GAAG,KAAK;MACxB,CAAC;MACDU,KAAK,EAAGA,KAAK,IAAI;QACbC,OAAO,CAACD,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;QACjD,IAAI,CAACV,OAAO,GAAG,KAAK;QACpB,IAAI,CAACL,cAAc,CAACiB,GAAG,CAAC;UACpBC,QAAQ,EAAE,OAAO;UACjBC,OAAO,EAAE,OAAO;UAChBC,MAAM,EAAE;SACX,CAAC;MACN;KACH,CAAC;EACN;EAEAC,SAASA,CAAA;IACL,IAAI,IAAI,CAACpB,OAAO,EAAE;MACd,IAAI,CAACF,WAAW,CAACsB,SAAS,CAAC,IAAI,CAACpB,OAAO,EAAE,IAAI,CAACC,QAAQ,EAAE,IAAI,CAACC,YAAY,EAAE,IAAI,CAACC,aAAa,CAAC;MAC9F,IAAI,CAACJ,cAAc,CAACiB,GAAG,CAAC;QACpBC,QAAQ,EAAE,SAAS;QACnBC,OAAO,EAAE,OAAO;QAChBC,MAAM,EAAE,GAAG,IAAI,CAACnB,OAAO,CAACqB,IAAI;OAC/B,CAAC;;EAEV;EAEAC,MAAMA,CAAA;IACF,IAAI,CAACF,SAAS,EAAE;IAChB,IAAI,CAACxB,MAAM,CAAC2B,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC;EACnC;EAEAC,iBAAiBA,CAAA;IACb,IAAI,CAACvB,QAAQ,EAAE;EACnB;EAEAwB,iBAAiBA,CAAA;IACb,IAAI,IAAI,CAACxB,QAAQ,GAAG,CAAC,EAAE;MACnB,IAAI,CAACA,QAAQ,EAAE;;EAEvB;CACH;AApEYR,sBAAsB,GAAAiC,UAAA,EALlClC,SAAS,CAAC;EACPmC,QAAQ,EAAE,oBAAoB;EAC9BC,WAAW,EAAE,gCAAgC;EAC7CC,SAAS,EAAE,CAAC,gCAAgC;CAC/C,CAAC,C,EACWpC,sBAAsB,CAoElC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}